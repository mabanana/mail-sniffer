spin_manifest_version = 2

[application]
authors = ["aldwinyu"]
description = ""
name = "mail-sniffer"
version = "0.1.0"

[[trigger.http]]
route = "/mail-sniffer/..."
component = "mail-sniffer"

[variables]
telegram_bot_token = { required = true }

[component.mail-sniffer]
source = "target/mail-sniffer.wasm"
exclude_files = ["**/node_modules"]
allowed_outbound_hosts = [ "https://api.telegram.org" ]

[component.mail-sniffer.build]
command = "npm run build"
watch = ["src/**/*.ts", "package.json"]

[component.mail-sniffer.variables]
telegram_bot_token = "{{ telegram_bot_token }}"